<head>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <style>
        /* æœ€å°é™ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©ï¼ˆTailwindä»»æ„å€¤ã§ä½¿ç”¨ï¼‰ */
        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            50.01%,
            100% {
                opacity: 0;
            }
        }

        @keyframes pop {
            0% {
                transform: scale(0);
                opacity: 0;
            }

            60% {
                transform: scale(1.08);
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
    </style>
</head>

<body class="min-h-screen antialiased bg-[#FAFAFA] font-[Inter]">
    <div class="p-4 border-b border-[rgba(0,0,0,.08)]">
        <div class="mx-auto max-w-3xl text-base/7 text-gray-700">
            <!-- Top Nav: ç›®æ¬¡ / å‰ã¸ / æ¬¡ã¸ -->
            <div class="mb-3 flex items-center gap-2 text-sm">
                <a href="index.html" class="inline-flex items-center rounded-lg bg-white ring-1 ring-gray-300 text-gray-900 px-3 py-1.5 hover:bg-gray-50">ç›®æ¬¡ã¸æˆ»ã‚‹</a>
                <span class="inline-flex items-center rounded-lg bg-gray-100 text-gray-400 px-3 py-1.5 ring-1 ring-gray-200 cursor-not-allowed" aria-disabled="true">â† å‰ã¸</span>
                <a href="02-tokenization.html" class="inline-flex items-center rounded-lg bg-white ring-1 ring-gray-300 text-gray-900 px-3 py-1.5 hover:bg-gray-50">æ¬¡ã¸ â†’</a>
            </div>
            <h1 class="text-xl font-bold border-l border-[rgba(0,0,0,.08)] pl-4 bg-blue-100 py-4">
                ğŸ¦œ ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³
            </h1>
            <!-- 1) ç›®çš„ -->
            <section
                class="bg-white rounded-md my-4 p-4 border shadow-[0_2px_2px_rgba(0,0,0,0.04)] border-[rgba(0,0,0,.08)]">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">ç›®çš„</h2>
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                    <p class="leading-7">
                        éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã€LLMï¼ˆTransformerï¼‰ã®åŸºæœ¬å‹•ä½œã‚’ç›´æ„Ÿçš„ã«ç†è§£ã—ã€ãã®ç†è§£ã‚’ä½¿ã£ã¦ã€Œæ˜ç¢ºã§å†ç¾æ€§ã®ã‚ã‚‹è‰¯ã„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã‚’è‡ªåŠ›ã§è¨­è¨ˆãƒ»æ”¹å–„ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã€‚
                    </p>
                </div>
            </section>

            <!-- 2) ã‚¢ã‚¸ã‚§ãƒ³ãƒ€ -->
            <section
                class="bg-white rounded-md my-4 p-4 border shadow-[0_2px_2px_rgba(0,0,0,0.04)] border-[rgba(0,0,0,.08)]">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">ã‚¢ã‚¸ã‚§ãƒ³ãƒ€</h2>
                <div class="grid [grid-template-columns:120px_1fr] gap-x-4 gap-y-4 items-start">
                    <div class="text-gray-500 [font-variant-numeric:tabular-nums]">
                        00:00â€“02:00
                    </div>
                    <div>ã‚¤ãƒ³ãƒˆãƒ­ï¼ˆç›®çš„ãƒ»æµã‚Œå…±æœ‰ï¼‰</div>
                    <div class="text-gray-500 [font-variant-numeric:tabular-nums]">
                        02:00â€“06:00
                    </div>
                    <div>ã‚¹ãƒ†ãƒƒãƒ—1 è¨€è‘‰ã‚’ã€Œãƒˆãƒ¼ã‚¯ãƒ³ã€ã«åˆ†è§£ï¼ˆèª¬æ˜/ä½“é¨“ï¼‰</div>
                    <div class="text-gray-500 [font-variant-numeric:tabular-nums]">
                        06:00â€“11:00
                    </div>
                    <div>ã‚¹ãƒ†ãƒƒãƒ—2 ã©ã®è¨€è‘‰ã«ã€Œæ³¨ç›®ã€ã™ã‚‹ã‹ï¼ˆèª¬æ˜/ä½“é¨“ï¼‰</div>
                    <div class="text-gray-500 [font-variant-numeric:tabular-nums]">
                        11:00â€“16:00
                    </div>
                    <div>ã‚¹ãƒ†ãƒƒãƒ—3 æ¬¡ã®è¨€è‘‰ã‚’ã€Œäºˆæ¸¬ã€ã™ã‚‹ï¼ˆèª¬æ˜/ä½“é¨“ï¼‰</div>
                    <div class="text-gray-500 [font-variant-numeric:tabular-nums]">
                        16:00â€“17:00
                    </div>
                    <div>ãƒ–ãƒªãƒƒã‚¸ï¼šãªãœ4è¦ç´ ãŒåŠ¹ãã®ã‹</div>
                    <div class="text-gray-500 [font-variant-numeric:tabular-nums]">
                        17:00â€“24:00
                    </div>
                    <div>ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆï¼ˆèª¬æ˜/å€‹äººãƒ¯ãƒ¼ã‚¯ï¼‰</div>
                    <div class="text-gray-500 [font-variant-numeric:tabular-nums]">
                        24:00â€“28:00
                    </div>
                    <div>ãƒªãƒ©ã‚¤ãƒˆï¼†75ç‚¹ãƒã‚§ãƒƒã‚¯</div>
                    <div class="text-gray-500 [font-variant-numeric:tabular-nums]">
                        28:00â€“30:00
                    </div>
                    <div>ã¾ã¨ã‚ãƒ»Q&A</div>
                </div>
            </section>

            <!-- 3) Promptã¨ã¯ -->
            <section
                class="bg-white rounded-md my-4 p-4 border shadow-[0_2px_2px_rgba(0,0,0,0.04)] border-[rgba(0,0,0,.08)]">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Prompt ã¨ã¯</h2>
                <div class="flex flex-col gap-4 mb-4 w-full">
                    å®šç¾©ï¼š
                    <p class="bg-gray-50 border border-gray-200 rounded-lg p-4">AIã«ä¸ãˆã‚‹ã€ŒæŒ‡ç¤ºã‚„ææ–™ã€ã‚’ã²ã¨ã‹ãŸã¾ã‚Šã«ã—ãŸå…¥åŠ›ã€‚</p>
                </div>

                <div class="flex flex-col gap-4 mb-4 w-full">
                    å…¥åŠ›ï¼š
                    <p id="promptBox"
                        class="bg-white ring-1 ring-gray-200 rounded-md p-4 font-mono text-sm whitespace-pre-line break-words text-left">ã‚ãªãŸã¯è¦ªåˆ‡ãªæ—…è¡Œãƒ—ãƒ©ãƒ³ãƒŠãƒ¼ã§ã™ã€‚åˆã‚ã¦æ±äº¬ã‚’è¨ªã‚Œã‚‹å®¶æ—é€£ã‚Œã«ã€åŠæ—¥è¦³å…‰ãƒ—ãƒ©ãƒ³ã‚’3ã¤ã€è¦‹å‡ºã—ï¼‹ç®‡æ¡æ›¸ãã§æ—¥æœ¬èªææ¡ˆã—ã¦ãã ã•ã„ã€‚åˆ¶ç´„: æ‰€è¦æ™‚é–“4æ™‚é–“ä»¥å†…ã€å¾’æ­©ä¸­å¿ƒã€‚</p>
                    å‡ºåŠ›ï¼š
                    <div id="outputBox"
                        class="bg-white ring-1 ring-gray-200 rounded-md p-4 min-h-24 font-mono text-sm whitespace-pre-line break-words text-left"
                        aria-live="polite"></div>
                </div>

                <div class="flex gap-4 mb-4 items-center">
                    <button id="play"
                        class="inline-flex items-center rounded-lg bg-gray-900 text-white px-4 py-2 text-sm font-medium hover:bg-gray-800">
                        å†ç”Ÿ
                    </button>
                    <button id="pause"
                        class="inline-flex items-center rounded-lg bg-white ring-1 ring-gray-300 text-gray-900 px-4 py-2 text-sm font-medium hover:bg-gray-50">
                        ä¸€æ™‚åœæ­¢
                    </button>
                    <button id="reset"
                        class="inline-flex items-center rounded-lg bg-white ring-1 ring-gray-300 text-gray-900 px-4 py-2 text-sm font-medium hover:bg-gray-50">
                        ãƒªã‚»ãƒƒãƒˆ
                    </button>
                    <span id="status" class="text-gray-500 ml-4">å¾…æ©Ÿä¸­</span>
                </div>

                <div id="tokens" class="flex flex-wrap gap-4 mt-4"></div>
                <p class="text-gray-500 mt-4">
                    ã“ã®ãƒ‡ãƒ¢ã¯ã€LLMãŒâ€œæ¬¡ã«æ¥ã‚‹å°ã•ãªæ–­ç‰‡ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ï¼‰â€ã‚’ä¸€ã¤ãšã¤äºˆæ¸¬ã—ã¦æ–‡ç« ã‚’ä¼¸ã°ã™æ§˜å­ã‚’å¯è¦–åŒ–ã—ã¾ã™ã€‚ä¸Šã§æ–‡å­—ãŒé †ã«å‡ºã¦ã€åŒºåˆ‡ã‚Šã§ç¢ºå®šã—ãŸã‹ãŸã¾ã‚Šã‚’ä¸‹ã«ãƒˆãƒ¼ã‚¯ãƒ³ã¨ã—ã¦ä¸¦ã¹ã¾ã™ã€‚å®Ÿéš›ã®ãƒˆãƒ¼ã‚¯ãƒ³ã¯ã‚µãƒ–ãƒ¯ãƒ¼ãƒ‰å˜ä½ã§ã™ãŒã€æ¦‚å¿µç†è§£ã®ãŸã‚ã«ç°¡ç•¥è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚
                </p>
            </section>
        </div>
    </div>

    <script>
        // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°å¯¾è±¡æ–‡ï¼ˆçŸ­ã‚ï¼‰
        const text =
            "äº†è§£ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã¯åŠæ—¥ï¼ˆç´„4æ™‚é–“ï¼‰ã§æ¥½ã—ã‚ã‚‹å®¶æ—å‘ã‘ã®æ±äº¬ãƒ—ãƒ©ãƒ³ã§ã™ã€‚\n\n" +
            "1) ä¸Šé‡ãƒŸãƒ‹æ¢æ¤œ\n- ä¸Šé‡å…¬åœ’ â†’ å‹•ç‰©åœ’ â†’ åšç‰©é¤¨ï¼ˆèˆˆå‘³ã«åˆã‚ã›ã¦ï¼‰\n- ä¼‘æ†©ã¯å…¬åœ’ã®ãƒ™ãƒ³ãƒã§ã€‚å¾’æ­©ä¸­å¿ƒ\n\n" +
            "2) æµ…è‰ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒ™ãƒ«\n- é›·é–€ â†’ ä»²è¦‹ä¸– â†’ éš…ç”°å…¬åœ’ã§å†™çœŸ\n- ãŸã„ç„¼ãã§å°è…¹æº€ãŸã—\n\n" +
            "3) çš‡å±…ã¾ã‚ã‚Šã®ç·‘æ•£æ­©\n- å’Œç”°å€‰å™´æ°´å…¬åœ’ â†’ äºŒé‡æ©‹ãƒ•ã‚©ãƒˆ â†’ æ¥ æ­£æˆåƒ\n- ãƒ™ãƒ“ãƒ¼ã‚«ãƒ¼ã§ã‚‚æ­©ãã‚„ã™ã„\n";

        const outputBox = document.getElementById("outputBox");
        const tokensBox = document.getElementById("tokens");
        const statusEl = document.getElementById("status");
        const playBtn = document.getElementById("play");
        const pauseBtn = document.getElementById("pause");
        const resetBtn = document.getElementById("reset");

        let i = 0;
        let timer = null;
        let buf = "";

        function step() {
            if (i >= text.length) {
                stop();
                return;
            }
            const ch = text[i++];
            outputBox.textContent += ch;
            buf += ch;
            // ç°¡æ˜“ãƒˆãƒ¼ã‚¯ãƒ³åˆ‡ã‚Šå‡ºã—ï¼šç©ºç™½/æ”¹è¡Œ/å¥èª­ç‚¹ã§ç¢ºå®š
            if (/\s|[ã€ã€‚!ï¼?ï¼Ÿ]/.test(ch)) {
                const token = buf.trim();
                if (token) addToken(token);
                buf = "";
            }
        }

        function addToken(t) {
            const el = document.createElement("span");
            el.className =
                "inline-block bg-white ring-1 ring-gray-200 rounded-md px-2 py-0.5 text-gray-700";
            el.textContent = t;
            tokensBox.appendChild(el);
            // å¤ã„ãƒˆãƒ¼ã‚¯ãƒ³ã‚’é©åº¦ã«é–“å¼•ã
            if (tokensBox.children.length > 20) {
                tokensBox.removeChild(tokensBox.firstChild);
            }
        }

        function play() {
            if (timer) return;
            status("ç”Ÿæˆä¸­â€¦");
            timer = setInterval(step, 22);
            showCursor(true);
        }
        function pause() {
            if (!timer) return;
            clearInterval(timer);
            timer = null;
            status("ä¸€æ™‚åœæ­¢");
            showCursor(false);
        }
        function stop() {
            if (timer) {
                clearInterval(timer);
                timer = null;
            }
            status("å®Œäº†");
            showCursor(false);
        }
        function reset() {
            stop();
            i = 0;
            buf = "";
            outputBox.textContent = "";
            tokensBox.innerHTML = "";
            status("å¾…æ©Ÿä¸­");
            showCursor(false);
        }
        function status(s) {
            statusEl.textContent = s;
        }

        // ç–‘ä¼¼ã‚«ãƒ¼ã‚½ãƒ«ï¼ˆTailwindä»»æ„å€¤ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
        const cursor = document.createElement("span");
        cursor.className =
            "inline-block w-2 h-[1.1em] bg-gray-900 ml-4 align-[-0.2em] animate-[blink_1s_steps(1)_infinite]";
        function showCursor(on) {
            if (on) {
                if (!outputBox.querySelector("span[aria-hidden]")) {
                    cursor.setAttribute("aria-hidden", "true");
                    outputBox.appendChild(cursor);
                }
            } else {
                cursor.remove();
            }
        }

        playBtn.addEventListener("click", play);
        pauseBtn.addEventListener("click", pause);
        resetBtn.addEventListener("click", reset);
    </script>
</body>
